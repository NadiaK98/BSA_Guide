% Options for packages loaded elsewhere
\PassOptionsToPackage{unicode}{hyperref}
\PassOptionsToPackage{hyphens}{url}
%
\documentclass[
]{article}
\usepackage{amsmath,amssymb}
\usepackage{lmodern}
\usepackage{ifxetex,ifluatex}
\ifnum 0\ifxetex 1\fi\ifluatex 1\fi=0 % if pdftex
  \usepackage[T1]{fontenc}
  \usepackage[utf8]{inputenc}
  \usepackage{textcomp} % provide euro and other symbols
\else % if luatex or xetex
  \usepackage{unicode-math}
  \defaultfontfeatures{Scale=MatchLowercase}
  \defaultfontfeatures[\rmfamily]{Ligatures=TeX,Scale=1}
\fi
% Use upquote if available, for straight quotes in verbatim environments
\IfFileExists{upquote.sty}{\usepackage{upquote}}{}
\IfFileExists{microtype.sty}{% use microtype if available
  \usepackage[]{microtype}
  \UseMicrotypeSet[protrusion]{basicmath} % disable protrusion for tt fonts
}{}
\makeatletter
\@ifundefined{KOMAClassName}{% if non-KOMA class
  \IfFileExists{parskip.sty}{%
    \usepackage{parskip}
  }{% else
    \setlength{\parindent}{0pt}
    \setlength{\parskip}{6pt plus 2pt minus 1pt}}
}{% if KOMA class
  \KOMAoptions{parskip=half}}
\makeatother
\usepackage{xcolor}
\IfFileExists{xurl.sty}{\usepackage{xurl}}{} % add URL line breaks if available
\IfFileExists{bookmark.sty}{\usepackage{bookmark}}{\usepackage{hyperref}}
\hypersetup{
  pdftitle={Using R to Analyse Key Surveys},
  pdfauthor={UKDS},
  hidelinks,
  pdfcreator={LaTeX via pandoc}}
\urlstyle{same} % disable monospaced font for URLs
\usepackage[margin=1in]{geometry}
\usepackage{longtable,booktabs,array}
\usepackage{calc} % for calculating minipage widths
% Correct order of tables after \paragraph or \subparagraph
\usepackage{etoolbox}
\makeatletter
\patchcmd\longtable{\par}{\if@noskipsec\mbox{}\fi\par}{}{}
\makeatother
% Allow footnotes in longtable head/foot
\IfFileExists{footnotehyper.sty}{\usepackage{footnotehyper}}{\usepackage{footnote}}
\makesavenoteenv{longtable}
\usepackage{graphicx}
\makeatletter
\def\maxwidth{\ifdim\Gin@nat@width>\linewidth\linewidth\else\Gin@nat@width\fi}
\def\maxheight{\ifdim\Gin@nat@height>\textheight\textheight\else\Gin@nat@height\fi}
\makeatother
% Scale images if necessary, so that they will not overflow the page
% margins by default, and it is still possible to overwrite the defaults
% using explicit options in \includegraphics[width, height, ...]{}
\setkeys{Gin}{width=\maxwidth,height=\maxheight,keepaspectratio}
% Set default figure placement to htbp
\makeatletter
\def\fps@figure{htbp}
\makeatother
\setlength{\emergencystretch}{3em} % prevent overfull lines
\providecommand{\tightlist}{%
  \setlength{\itemsep}{0pt}\setlength{\parskip}{0pt}}
\setcounter{secnumdepth}{-\maxdimen} % remove section numbering
\ifluatex
  \usepackage{selnolig}  % disable illegal ligatures
\fi

\title{Using R to Analyse Key Surveys}
\author{UKDS}
\date{10/09/2021}

\begin{document}
\maketitle

\hypertarget{introduction}{%
\subsection{Introduction}\label{introduction}}

The aim of this guide is to provide an introduction to analysing large
UK surveys with the help of the R statistical software package. This
document is targeted at two categories of users:

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\item
  Those outside higher education, or who do not have access to one of
  the commonly used statistical packages such as Stata, SPSS or SAS (as
  R is free of charge) but who would like to conduct their own analysis
  beyond what is usually published by data producers such as the Office
  for National Statistics (for example statistics for specific groups of
  the population).
\item
  More advanced users who are already familiar with one of the
  aforementioned packages but would like to learn how to carry out their
  analyses in R. The guide, therefore, focuses on providing step-by-step
  examples of common operations most users carry out in the course of
  their research: how to open datasets, do basic data manipulation
  operations, produce simple descriptive statistics or weighted
  contingency tables. This is meant to provide the first category of
  users with a range of procedures that will help them produce
  straightforward and robust analyses tailored to their needs without
  spending too much time on learning the inner workings of R. The second
  category of users will find a number of familiar operations from which
  they will be able to further expand their R skills. It should be noted
  however that this guide is not an introduction to R. Beginners should
  use it in conjunction with one of the more comprehensive guides
  available online. Links and information about R resources are
  available at the end of this document.
\end{enumerate}

Examples provided in this guide, use the Quarterly Labour Force Survey,
January - March, 2016, which can be downloaded from the UK Data Service
website. The website also has instructions on how to acquire and
download large-scale government datasets.

\hypertarget{what-is-r}{%
\subsubsection{What is R}\label{what-is-r}}

R is a free, user developed, advanced statistical and computing
programme. It has a large audience in the programming and statistical
community and is increasingly used in the academic world for teaching
purposes. R can be downloaded from the Comprehensive R Archive Network
(CRAN) website. Installation instructions as well as guides, tutorials
and FAQ are available on the same website.

R is often described as an object-oriented statistical programming
language rather than simply a statistical analysis package. It
originates in the `S' and `S Plus' languages developed during the 1970s
and 1980s. Anyone can download and use it without charge, and to some
extent contribute to and amend the existing programme itself. It is
particularly favoured by users who want to develop their own statistical
application or implement the latest advances that are not yet available
in commercial packages. The existence of a vast number (more than 3,600
at the time of writing this guide) of user written packages -- which
bear some resemblance to downloadable ado files in Stata -- is one of
the great strengths of R. Users who want to contribute should be aware
that in order to be part of the R archive, a minimum set of rules need
to be followed.

Although R can perform most of the tasks available in generalist
statistical packages such as Stata, SPSS, or SAS, it has a broader
potential since it can also be used for mapping or data mining. Being a
language also means that there are often several ways to carry out
analyses in R, each one with its pros and cons. Publication quality
output from R can be obtained easily thanks to its integration with the
LaTeX document presentation system, and R graphs can also be imported
into MS Word documents.

\hypertarget{the-pros-and-cons-of-r}{%
\subsubsection{The Pros and Cons of R}\label{the-pros-and-cons-of-r}}

Although R has advantages over other statistical analysis software, it
has also a few downsides, both of which are summarised below. Users
should be reminded that as an open-source software, R and its packages
are developed by volunteers, which makes it a very flexible and dynamic
project, but at the same time reliant on developers' free time and good
will.

\begin{longtable}[]{@{}
  >{\raggedright\arraybackslash}p{(\columnwidth - 2\tabcolsep) * \real{0.50}}
  >{\raggedleft\arraybackslash}p{(\columnwidth - 2\tabcolsep) * \real{0.50}}@{}}
\toprule
Pros & Cons \\
\midrule
\endhead
R is free, and allows users to perform almost any analysis they want. &
The learning curve may be steep for users who do not have a reasonably
robust background in statistics and programming. \\
& \\
R puts statistical analysis closer to the reach of individual citizens
rather than specialists. & Problem solving (for both advanced and
beginners) in R may be time-consuming, depending on how common the
problem encountered is and may lead to more time spent solving technical
rather than substantive issues. \\
& \\
Transparency of use and programming of the software and its routines,
which improves the peer-reviewing and quality control of the software in
many cases & Packages can stop being maintained without notice, and some
of them have a short life span. Many people who design them are or will
become busy academics, and at some point will not have the time to
maintain them anymore. Others will take over in some, but not necessary
in all the cases \\
& \\
Very flexible & \\
& \\
Availability of a wide range of advanced techniques not provided in
mainstream statistical software or only available in specialised
packages & \\
& \\
A very large user base provides abundant documentation, tutorials, and
web pages & \\
\bottomrule
\end{longtable}

\hypertarget{using-r-essential-information}{%
\subsection{Using R; essential
information}\label{using-r-essential-information}}

The R installation programme can be downloaded from the CRAN website and
run like any other Windows applications. Versions for Mac and Linux are
also available. After installation, the standard R interface that
appears when the programme is launched is shown below. As with advanced
statistical packages, the preferred way to interact with R is the
command line at the bottom of the R Console and/or by typing commands in
a script file (Menu File ïƒ New Script). All or selected (highlighted)
parts of a script file can be run by typing Control-R.

\includegraphics[width=1\linewidth]{R Console image}

Most R commmands adopt the following syntax

\begin{quote}
command(paramter1, parameter2\ldots.)
\end{quote}

\end{document}
